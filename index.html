<html>
<head>
<title>AudioPlay</title>
</head>
<body>
<button class="play-btn" data-freq="400">A</button>
<button class="play-btn" data-freq="410.16">A+</button>
<button class="play-btn" data-freq="420.58">B</button>
<button class="play-btn" data-freq="431.26">B+</button>
<button class="play-btn" data-freq="442.22">C</button>
<button class="play-btn" data-freq="453.45">D</button>
<button class="play-btn" data-freq="464.97">D+</button>
<button class="play-btn" data-freq="476.78">E</button>
<button class="play-btn" data-freq="488.90">E+</button>
<button class="play-btn" data-freq="501.32">F</button>
<button class="play-btn" data-freq="514.05">F+</button>
<button class="play-btn" data-freq="527.11">G</button>
<button class="play-btn" data-freq="800">A2</button>
<script>
let audioCtx;
for(const btn of document.getElementsByClassName('play-btn')) {
    btn.addEventListener('click', function (e){ 
        if (!audioCtx) {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }
        
        const duration = 1;

        // Create an empty three-second stereo buffer at the sample rate of the AudioContext
        var myArrayBuffer = audioCtx.createBuffer(2, audioCtx.sampleRate * duration, audioCtx.sampleRate);

        // Fill the buffer with white noise;
        // just random values between -1.0 and 1.0
        for (var channel = 0; channel < myArrayBuffer.numberOfChannels; channel++) {
          // This gives us the actual array that contains the data
          var nowBuffering = myArrayBuffer.getChannelData(channel);
          for (var i = 0; i < myArrayBuffer.length; i++) {
            // Math.random() is in [0; 1.0]
            // audio needs to be in [-1.0; 1.0]
            const freq = e.target.dataset.freq;
            nowBuffering[i] = average(tone(freq, i), tone(freq*2, i), tone(freq*4, i)) * Math.abs(Math.sin(i * ((1/duration) / audioCtx.sampleRate) * Math.PI));
          }
        }

        // Get an AudioBufferSourceNode.
        // This is the AudioNode to use when we want to play an AudioBuffer
        var source = audioCtx.createBufferSource();

        // set the buffer in the AudioBufferSourceNode
        source.buffer = myArrayBuffer;

        // connect the AudioBufferSourceNode to the
        // destination so we can hear the sound
        source.connect(audioCtx.destination);

        // start the source playing
        source.start();
        
        function tone (freq, i) {
            return Math.sin(i * (freq / audioCtx.sampleRate) * Math.PI * 2);
        }
        
        function average() {
            return Array.prototype.reduce.call(arguments, (a,b) => a + b, 0) / arguments.length;
        }
    });
}

</script>
</body>
</html>